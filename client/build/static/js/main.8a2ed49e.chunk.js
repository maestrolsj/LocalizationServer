(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{238:function(e,t,a){e.exports=a(361)},357:function(e,t,a){},361:function(e,t,a){"use strict";a.r(t);var n=a(38),r=a(0),c=a.n(r),o=a(20),i=a.n(o),l=a(18),s=a(227),u=a(205),d=a(74),m=a(225),p=a(206),h=a(36),g=Object(s.a)({uri:"http://localhost:4000/graphql"}),b=Object(u.a)((function(e,t){var a,n=t.headers,r=JSON.parse(null!==(a=localStorage.getItem("user"))&&void 0!==a?a:"");return"object"===typeof r&&"string"===typeof r.accessToken?{headers:Object(l.a)(Object(l.a)({},n),{},{authorization:r.accessToken?"Bearer ".concat(r.accessToken):""})}:{headers:Object(l.a)({},n)}})),f=Object(p.a)((function(e){var t=e.graphQLErrors,a=e.networkError;t&&t.forEach((function(e){var t=e.message;e.locations,e.path;"TokenExpiredError"===t&&(localStorage.clear(),window.location.href="/")})),a&&console.log("[Network error]: ".concat(a))})),v=new d.c({link:h.a.from([b,f,g]),cache:new m.a}),j=a(10),E=a(23),O=a(26),k=a(209),y=Object(k.a)("user"),w=c.a.createContext({user:{},setUser:function(){}}),C=function(e){var t=e.children,a=y({}),n=Object(j.a)(a,2),r=n[0],o=n[1];return c.a.createElement(w.Provider,{value:{user:r,setUser:o}},t)},x=a(391),N=a(14),I=a.n(N),S=a(24),$=a(15),T=a(85),D=a(413),L=a(397),P=a(4),F=a(17),B=a(16),q=a.n(B);function _(){var e=Object($.a)(["\n  query LoginPage_login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      accessToken\n      user {\n        id\n        email\n        firstName\n        lastName\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]);return _=function(){return e},e}var R=q()(_());function A(){return new URLSearchParams(Object(E.h)().search)}function M(){var e=Object($.a)(["\n  query LoginPage_test {\n    test\n  }\n"]);return M=function(){return e},e}var K=Object(x.a)((function(e){return{root:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},input:{margin:8,width:"80%"},password:{marginBottom:0,width:"80%"},errorText:{color:"red"},forgotPassword:{textDecoration:"none",cursor:"pointer",fontSize:12,color:e.palette.primary.main,margin:"4px 0",textAlign:"right",width:"80%","&:hover":{textDecoration:"underline"}}}})),W=q()(M()),V=function(e){var t=K(),a=Object(r.useState)(""),n=Object(j.a)(a,2),o=n[0],i=n[1],s=Object(r.useState)(""),u=Object(j.a)(s,2),d=u[0],m=u[1],p=Object(r.useState)(""),h=Object(j.a)(p,2),g=h[0],b=h[1],f=Object(r.useContext)(w).setUser,v=Object(E.g)(),O=Object(F.a)(),k=A(),y=Object(r.useCallback)(function(){var e=Object(S.a)(I.a.mark((function e(t){var a,n,r,c,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,"@softgarden.de"===o.split("").reverse().slice(0,14).reverse().join("")){e.next=6;break}b("Must be a softgarden email"),e.next=13;break;case 6:return e.next=8,O.query({query:R,variables:{email:o,password:d}});case 8:a=e.sent,n=a.data,f(Object(l.a)(Object(l.a)({},n.login.user),{},{accessToken:n.login.accessToken})),(r=k.get("redirectUrl"))?v.push(r):v.push("/home");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),b(null!==(c=null===e.t0||void 0===e.t0||null===(i=e.t0.graphQLErrors[0])||void 0===i?void 0:i.message)&&void 0!==c?c:"");case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),[o,d,f,v,O,k]),C=Object(r.useCallback)((function(e){return function(){return v.push(e)}}),[v]);return Object(r.useEffect)((function(){(function(){var e=Object(S.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.query({query:W});case 2:t=e.sent,a=t.data,console.log(">>>>",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),c.a.createElement("form",{onSubmit:y,className:t.root},c.a.createElement(T.a,{className:t.errorText},g),c.a.createElement(D.a,{className:t.input,label:"Email",placeholder:"John.Doe@softgarden.de",variant:"outlined",type:"email",value:o,onChange:function(e){i(e.target.value),b("")}}),c.a.createElement(D.a,{className:Object(P.a)(t.input,t.password),label:"Password",placeholder:"*******",variant:"outlined",type:"password",value:d,onChange:function(e){m(e.target.value),b("")}}),c.a.createElement(T.a,{onClick:C("/forgotPassword"),className:t.forgotPassword},"Forgot password?"),c.a.createElement(L.a,{type:"submit",className:t.input,variant:"contained",color:"primary"},"Login"),c.a.createElement(L.a,{onClick:C("/register"),className:t.input,color:"primary"},"Register"))},U=a(398);function z(){var e=Object($.a)(["\n  mutation RegisterPage_upsertUser(\n    $firstName: String!\n    $lastName: String!\n    $email: String!\n  ) {\n    upsertUser(\n      data: { firstName: $firstName, lastName: $lastName, email: $email }\n    ) {\n      id\n      email\n      firstName\n      lastName\n      createdAt\n      updatedAt\n    }\n  }\n"]);return z=function(){return e},e}var Q=q()(z()),J=Object(x.a)((function(e){return{root:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},input:{margin:8,width:"80%"},password:{marginBottom:0,width:"80%"},successText:{color:"darkgreen"},errorText:{color:"red"},forgotPassword:{textDecoration:"none",cursor:"pointer",fontSize:12,color:e.palette.primary.main,margin:"4px 0",textAlign:"right",width:"80%","&:hover":{textDecoration:"underline"}}}})),H=function(e){var t=J(),a=Object(r.useState)(""),n=Object(j.a)(a,2),o=n[0],i=n[1],l=Object(r.useState)(""),s=Object(j.a)(l,2),u=s[0],d=s[1],m=Object(r.useState)(""),p=Object(j.a)(m,2),h=p[0],g=p[1],b=Object(r.useState)(""),f=Object(j.a)(b,2),v=f[0],O=f[1],k=Object(r.useState)(""),y=Object(j.a)(k,2),w=y[0],C=y[1],x=Object(E.g)(),N=Object(F.b)(Q),$=Object(j.a)(N,2),P=$[0],B=$[1].loading,q=Object(r.useCallback)(function(){var e=Object(S.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,"@softgarden.de"===o.split("").reverse().slice(0,14).reverse().join("")){e.next=6;break}C("Must be a softgarden email"),e.next=9;break;case 6:return e.next=8,P({variables:{email:o,firstName:u,lastName:h}});case 8:O("Check your email to set your password");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),(null===e.t0||void 0===e.t0||null===(a=e.t0.graphQLErrors[0])||void 0===a?void 0:a.message)?C((null===e.t0||void 0===e.t0||null===(n=e.t0.graphQLErrors[0])||void 0===n?void 0:n.message)?"User already exists":""):C("Server error");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),[o,u,h,P]),_=Object(r.useCallback)((function(e){return function(){return x.push(e)}}),[x]);return c.a.createElement("form",{onSubmit:q,className:t.root},c.a.createElement(T.a,{className:t.successText},v),c.a.createElement(T.a,{className:t.errorText},w),c.a.createElement(D.a,{className:t.input,label:"First name",placeholder:"John",variant:"outlined",type:"text",value:u,onChange:function(e){d(e.target.value),C(""),O("")}}),c.a.createElement(D.a,{className:t.input,label:"Last name",placeholder:"Doe",variant:"outlined",type:"text",value:h,onChange:function(e){g(e.target.value),C(""),O("")}}),c.a.createElement(D.a,{className:t.input,label:"Email",placeholder:"John.Doe@softgarden.de",variant:"outlined",type:"email",value:o,onChange:function(e){i(e.target.value),C(""),O("")}}),c.a.createElement(L.a,{type:"submit",className:t.input,variant:"contained",color:"primary"},B?c.a.createElement(U.a,{size:24,color:"secondary"}):"Register"),c.a.createElement(L.a,{onClick:_("/login"),className:t.input,color:"primary"},"Go to Login"))},G=a(214),X=a.n(G),Y=Object(x.a)((function(e){return{root:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},input:{margin:8,width:"80%"},errorText:{color:"red"},successText:{color:"darkgreen"}}})),Z=function(e){var t=Y(),a=Object(r.useState)(""),n=Object(j.a)(a,2),o=n[0],i=n[1],l=Object(r.useState)(""),s=Object(j.a)(l,2),u=s[0],d=s[1],m=Object(r.useState)(""),p=Object(j.a)(m,2),h=p[0],g=p[1],b=Object(E.g)(),f=Object(r.useCallback)(function(){var e=Object(S.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,"@softgarden.de"===o.split("").reverse().slice(0,14).reverse().join("")){e.next=6;break}d("Must be a softgarden email"),e.next=9;break;case 6:return e.next=8,X.a.post("http://localhost:4000/forgotPassword",{email:o});case 8:g("Check your email please!");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),d("Server error");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),[o]),v=Object(r.useCallback)((function(e){return function(){return b.push(e)}}),[b]);return c.a.createElement("form",{onSubmit:f,className:t.root},c.a.createElement(T.a,{className:t.successText},h),c.a.createElement(T.a,{className:t.errorText},u),c.a.createElement(D.a,{className:t.input,label:"Email",placeholder:"John.Doe@softgarden.de",variant:"outlined",type:"email",value:o,onChange:function(e){i(e.target.value),d(""),g("")}}),c.a.createElement(L.a,{type:"submit",className:t.input,variant:"contained",color:"primary"},"Send email"),c.a.createElement(L.a,{onClick:v("/login"),className:t.input,color:"primary"},"Go to Login"))};function ee(){var e=Object($.a)(["\n  mutation RedefinePasswordPage_resetPassword(\n    $password: String!\n    $token: String!\n  ) {\n    resetPassword(password: $password, token: $token) {\n      user {\n        id\n        email\n        firstName\n        lastName\n        createdAt\n        updatedAt\n      }\n      accessToken\n    }\n  }\n"]);return ee=function(){return e},e}var te=q()(ee()),ae=Object(x.a)((function(e){return{root:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},input:{margin:8,width:"80%"},successText:{color:"darkgreen"},errorText:{color:"red"},forgotPassword:{textDecoration:"none",cursor:"pointer",fontSize:12,color:e.palette.primary.main,margin:"4px 0",textAlign:"right",width:"80%","&:hover":{textDecoration:"underline"}}}})),ne=function(e){var t=ae(),a=Object(r.useState)(""),n=Object(j.a)(a,2),o=n[0],i=n[1],s=Object(r.useState)(""),u=Object(j.a)(s,2),d=u[0],m=u[1],p=Object(r.useState)(""),h=Object(j.a)(p,2),g=h[0],b=h[1],f=Object(r.useState)(""),v=Object(j.a)(f,2),O=v[0],k=v[1],y=Object(E.g)(),C=A(),x=Object(F.b)(te),N=Object(j.a)(x,1)[0],$=Object(r.useContext)(w).setUser,P=Object(r.useCallback)(function(){var e=Object(S.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),o!==d){e.next=15;break}return e.prev=2,e.next=5,N({variables:{password:o,token:C.get("token")}});case 5:a=e.sent,(null===(n=a.data)||void 0===n?void 0:n.resetPassword)?($(Object(l.a)(Object(l.a)({},n.resetPassword.user),{},{accessToken:n.resetPassword.accessToken})),y.push("/home")):k("Password defined"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),b("Server error");case 13:e.next=16;break;case 15:b("Passwords do not match");case 16:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),[o,C,$,y,N,d]),B=Object(r.useCallback)((function(e){return function(){return y.push(e)}}),[y]);return c.a.createElement("form",{onSubmit:P,className:t.root},c.a.createElement(T.a,{className:t.successText},O),c.a.createElement(T.a,{className:t.errorText},g),c.a.createElement(D.a,{className:t.input,label:"Password",placeholder:"*******",variant:"outlined",type:"password",value:o,onChange:function(e){i(e.target.value),b("")}}),c.a.createElement(D.a,{className:t.input,label:"Repeat password",placeholder:"*******",variant:"outlined",type:"password",value:d,onChange:function(e){m(e.target.value),b("")}}),c.a.createElement(L.a,{type:"submit",className:t.input,variant:"contained",color:"primary"},"Redefine password"),c.a.createElement(L.a,{onClick:B("/login"),className:t.input,color:"primary"},"Go to Login"))},re=Object(x.a)({root:{width:"100%",height:"100%"},left:{width:"40%",height:"100%",float:"left"},right:{width:"60%",height:"100%",background:"linear-gradient(to right, #3a6073, #3a7bd5)",float:"right",display:"flex",alignItems:"center",justifyContent:"center"},image:{filter:"brightness(100)",width:250}}),ce=function(){var e=Object(E.g)(),t=A();return Object(r.useEffect)((function(){t.get("redirectUrl")?e.replace("/login"):e.replace("/login?redirectUrl=".concat(window.location.pathname))}),[]),c.a.createElement(c.a.Fragment,null)},oe=function(e){e.children;var t=re();return c.a.createElement("div",{className:t.root},c.a.createElement("div",{className:t.left},c.a.createElement(E.b,{exact:!0,path:"/",component:V}),c.a.createElement(E.b,{path:"/login",component:V}),c.a.createElement(E.b,{path:"/register",component:H}),c.a.createElement(E.b,{path:"/forgotPassword",component:Z}),c.a.createElement(E.b,{path:"/redefinePassword",component:ne}),c.a.createElement(E.b,{component:ce})),c.a.createElement("div",{className:t.right},c.a.createElement("img",{className:t.image,src:"/softgarden_white.png",alt:""})))},ie=a(115),le=a(420),se=a(11),ue=a(399),de=a(400),me=a(419),pe=a(401),he=a(216),ge=a.n(he),be=a(215),fe=a.n(be),ve=Object(x.a)((function(e){return Object(le.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{cursor:"pointer"},spacer:{flex:2},search:Object(ie.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(se.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(se.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(ie.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})})})),je=function(e){var t=e.onSearchChange,a=(e.search,ve()),n=Object(E.g)();return c.a.createElement("div",{className:a.root},c.a.createElement(ue.a,{position:"static"},c.a.createElement(de.a,null,c.a.createElement(T.a,{onClick:function(){return n.push("/")},variant:"h6",className:a.title},"Translate me!"),c.a.createElement("div",{className:a.spacer}),t?c.a.createElement("div",{className:a.search},c.a.createElement("div",{className:a.searchIcon},c.a.createElement(fe.a,null)),c.a.createElement(me.a,{onChange:t,placeholder:"Search\u2026",classes:{root:a.inputRoot,input:a.inputInput},inputProps:{"aria-label":"search"}})):null,c.a.createElement("div",{className:a.spacer}),c.a.createElement(pe.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return n.push("/settings")}},c.a.createElement(ge.a,null)))))},Ee=a(406),Oe=a(407),ke=a(409),ye=a(410),we=a(104),Ce=a.n(we),xe=a(220),Ne=a.n(xe),Ie=a(417),Se=a(402),$e=a(403),Te=a(404),De=a(59),Le=a(37);function Pe(){var e=Object($.a)(["\n  mutation ProjectFormModal_upsertProject(\n    $id: ID\n    $key: String!\n    $name: String!\n    $description: String!\n  ) {\n    upsertProject(\n      data: { key: $key, name: $name, description: $description }\n      where: { id: $id }\n    ) {\n      id\n      key\n      name\n      description\n    }\n  }\n"]);return Pe=function(){return e},e}function Fe(){var e=Object($.a)(["\n  query ProjectFormModal_project($id: ID!) {\n    project(where: { id: $id }) {\n      id\n      key\n      name\n      description\n    }\n  }\n"]);return Fe=function(){return e},e}var Be=q()(Fe()),qe=q()(Pe()),_e=Le.a({key:Le.b().min(1,"Must be 1 characters or more").required("Required"),name:Le.b().min(3,"Must be 3 characters or more").required("Required")}),Re=Object(x.a)((function(e){return{root:{width:400},input:{marginBottom:e.spacing(3)}}})),Ae=function(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),a=t[0],n=t[1],o=Object(E.g)(),i=Object(E.i)().params.id,s=Re(),u=Object(F.b)(qe,{refetchQueries:["HomePage_projects"]}),d=Object(j.a)(u,2),m=d[0],p=d[1].loading,h=Object(De.a)({initialValues:{key:"",name:"",description:""},validationSchema:_e,onSubmit:function(){var e=Object(S.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({variables:Object(l.a)(Object(l.a)({},t),{},{id:i})});case 2:o.push("/home");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),g=Object(F.c)(Be,{variables:{id:i},skip:!i,onCompleted:function(e){e&&h.setValues(e.project)}}).loading;return c.a.createElement(Ie.a,{classes:{paper:s.root},open:a,onClose:function(){return n(!1)},onExited:function(){return o.push("/home")},disableBackdropClick:p,disableEscapeKeyDown:p},c.a.createElement(Se.a,null,"Project"),g?c.a.createElement(U.a,null):c.a.createElement("form",{onSubmit:h.handleSubmit},c.a.createElement(c.a.Fragment,null,c.a.createElement($e.a,null,c.a.createElement(D.a,{id:"key",className:s.input,autoFocus:!0,label:"Key",placeholder:"A serious key.",variant:"outlined",fullWidth:!0,onChange:h.handleChange,value:h.values.key,helperText:h.touched.key?h.errors.key:"",error:h.touched.key&&Boolean(h.errors.key)}),c.a.createElement(D.a,{id:"name",className:s.input,label:"Name",placeholder:"My awesome project!",variant:"outlined",fullWidth:!0,onChange:h.handleChange,value:h.values.name,helperText:h.touched.name?h.errors.name:"",error:h.touched.name&&Boolean(h.errors.name)}),c.a.createElement(D.a,{id:"description",className:s.input,multiline:!0,rows:3,label:"Description",placeholder:"I'm awesome thats all.",variant:"outlined",fullWidth:!0,onChange:h.handleChange,value:h.values.description,helperText:h.touched.description?h.errors.description:"",error:h.touched.description&&Boolean(h.errors.description)})),c.a.createElement(Te.a,null,c.a.createElement(L.a,{onClick:function(){return n(!1)},color:"primary",disabled:p},"Cancel"),c.a.createElement(L.a,{type:"submit",color:"primary",disabled:p},p?c.a.createElement(U.a,{size:10}):i?"Edit":"Add")))))},Me=a(408);function Ke(){var e=Object($.a)(["\n  query HomePage_projects {\n    projects {\n      id\n      key\n      name\n      description\n    }\n  }\n"]);return Ke=function(){return e},e}var We=q()(Ke()),Ve=a(418),Ue=a(405),ze=function(e){var t=e.paths,a=Object(E.g)(),n=Object(r.useCallback)((function(e){return function(){return a.push(e)}}),[a]);return c.a.createElement(Ve.a,null,t.length>1?t.filter((function(e,a){return a!==t.length-1})).map((function(e,t){return c.a.createElement(Ue.a,{key:t,color:"inherit",onClick:n(e.path)},e.name)})):null,t.length>0?c.a.createElement(T.a,{color:"textPrimary"},t[t.length-1].name):null)},Qe=Object(x.a)((function(e){return{root:{padding:e.spacing(3),backgroundColor:e.palette.background.default,height:"calc(100% - 115px)"},addCard:{width:300,minWidth:300,backgroundColor:e.palette.background.default,boxShadow:"none",border:"dashed grey 1px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",margin:e.spacing(3),minHeight:167},title:{marginBottom:e.spacing(3)},projectsContainer:{display:"flex",flexFlow:"row wrap"},languageCard:{maxHeight:200,width:300,minWidth:300,margin:e.spacing(3)},languageCardSkeleton:{maxHeight:200,width:300,minWidth:300,margin:e.spacing(3)}}})),Je=function(e){var t=e.onClick,a=(e.children,Qe());return c.a.createElement(Ee.a,{className:a.addCard,onClick:t},c.a.createElement(Ce.a,null))},He=function(e){var t=e.k,a=e.name,n=e.description,r=e.onEditClick,o=e.onTranslateClick,i=e.loading,l=Qe();return c.a.createElement(Ee.a,{className:l.languageCard},c.a.createElement(Oe.a,{title:i?c.a.createElement(Me.a,{animation:"wave",variant:"rect",width:200,height:32}):"".concat(t," - ").concat(a),action:i?c.a.createElement(Me.a,{animation:"wave",variant:"circle",width:48,height:48}):c.a.createElement(pe.a,{onClick:r},c.a.createElement(Ne.a,null))}),c.a.createElement(ke.a,null,i?c.a.createElement(Me.a,{animation:"wave",variant:"rect",width:230,height:25}):c.a.createElement(T.a,{noWrap:!0},n)),c.a.createElement(ye.a,null,i?c.a.createElement(Me.a,{animation:"wave",variant:"rect",width:90,height:20}):c.a.createElement(L.a,{size:"small",type:"submit",color:"primary",onClick:o},"Translate")))},Ge=function(){var e,t=Qe(),a=Object(E.g)(),n=Object(F.c)(We),r=n.data,o=n.loading;return c.a.createElement(c.a.Fragment,null,c.a.createElement(je,null),c.a.createElement("div",{className:t.root},c.a.createElement(ze,{paths:[{name:"Projects"}]}),c.a.createElement("div",{className:t.projectsContainer},o?c.a.createElement(He,{loading:!0}):null===r||void 0===r||null===(e=r.projects)||void 0===e?void 0:e.map((function(e){var t,n,r,o;return c.a.createElement(He,{key:null!==(t=null===e||void 0===e?void 0:e.id)&&void 0!==t?t:"",k:null!==(n=null===e||void 0===e?void 0:e.key)&&void 0!==n?n:"",name:null!==(r=null===e||void 0===e?void 0:e.name)&&void 0!==r?r:"",description:null!==(o=null===e||void 0===e?void 0:e.description)&&void 0!==o?o:"",onEditClick:function(){return a.push("/home/project/".concat(null===e||void 0===e?void 0:e.id))},onTranslateClick:function(){return a.push("/project/".concat(null===e||void 0===e?void 0:e.id,"/screens"))}})})),c.a.createElement(Je,{onClick:function(){return a.push("/home/project")}})),c.a.createElement(E.b,{exact:!0,path:"/home/project",component:Ae}),c.a.createElement(E.b,{exact:!0,path:"/home/project/:id",component:Ae})))},Xe=Object(x.a)((function(e){return{root:{padding:e.spacing(3),backgroundColor:e.palette.background.default,height:"calc(100% - 115px)"}}})),Ye=function(){var e=Xe(),t=Object(r.useContext)(w).setUser;return c.a.createElement(c.a.Fragment,null,c.a.createElement(je,null),c.a.createElement("div",{className:e.root},c.a.createElement(L.a,{onClick:function(){t({}),window.location.href="/login"}},"Logout")))},Ze=a(421);function et(){var e=Object($.a)(["\n  query Screen_project($id: ID!) {\n    project(where: { id: $id }) {\n      id\n      key\n      name\n      description\n      screens {\n        id\n        name\n      }\n      locales {\n        id\n        name\n      }\n    }\n  }\n"]);return et=function(){return e},e}var tt=q()(et());function at(){var e=Object($.a)(["\n  mutation ScreenFormModal_upsertScreen(\n    $id: ID\n    $key: String!\n    $name: String!\n    $description: String!\n    $projectId: ID!\n  ) {\n    upsertScreen(\n      data: {\n        key: $key\n        name: $name\n        description: $description\n        projectId: $projectId\n      }\n      where: { id: $id }\n    ) {\n      id\n      key\n      name\n      description\n    }\n  }\n"]);return at=function(){return e},e}function nt(){var e=Object($.a)(["\n  query ScreenFormModal_screen($id: ID!) {\n    screen(where: { id: $id }) {\n      id\n      key\n      name\n      description\n    }\n  }\n"]);return nt=function(){return e},e}var rt=q()(nt()),ct=q()(at()),ot=Le.a({key:Le.b().min(1,"Must be 1 characters or more").required("Required"),name:Le.b().min(3,"Must be 3 characters or more").required("Required")}),it=Object(x.a)((function(e){return{root:{width:400},input:{marginBottom:e.spacing(3)}}})),lt=function(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),a=t[0],n=t[1],o=Object(E.g)(),i=Object(E.i)().params,s=i.screenId,u=i.projectId,d=it(),m=Object(F.b)(ct,{refetchQueries:["Screen_project"]}),p=Object(j.a)(m,2),h=p[0],g=p[1].loading,b=Object(De.a)({initialValues:{key:"",name:"",description:""},validationSchema:ot,onSubmit:function(){var e=Object(S.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({variables:Object(l.a)(Object(l.a)({},t),{},{id:s,projectId:u})});case 2:o.push("/project/".concat(u,"/screens"));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),f=Object(F.c)(rt,{variables:{id:s},skip:!s,onCompleted:function(e){e&&b.setValues(e.screen)}}).loading;return c.a.createElement(Ie.a,{classes:{paper:d.root},open:a,onClose:function(){return n(!1)},onExited:function(){return o.push("/project/".concat(u,"/screens"))},disableBackdropClick:g,disableEscapeKeyDown:g},c.a.createElement(Se.a,null,"Screen"),f?c.a.createElement(U.a,null):c.a.createElement("form",{onSubmit:b.handleSubmit},c.a.createElement(c.a.Fragment,null,c.a.createElement($e.a,null,c.a.createElement(D.a,{id:"key",className:d.input,autoFocus:!0,label:"Key",placeholder:"A serious key.",variant:"outlined",fullWidth:!0,onChange:b.handleChange,value:b.values.key,helperText:b.touched.key?b.errors.key:"",error:b.touched.key&&Boolean(b.errors.key)}),c.a.createElement(D.a,{id:"name",className:d.input,label:"Name",placeholder:"My awesome project!",variant:"outlined",fullWidth:!0,onChange:b.handleChange,value:b.values.name,helperText:b.touched.name?b.errors.name:"",error:b.touched.name&&Boolean(b.errors.name)}),c.a.createElement(D.a,{id:"description",className:d.input,multiline:!0,rows:3,label:"Description",placeholder:"I'm awesome thats all.",variant:"outlined",fullWidth:!0,onChange:b.handleChange,value:b.values.description,helperText:b.touched.description?b.errors.description:"",error:b.touched.description&&Boolean(b.errors.description)})),c.a.createElement(Te.a,null,c.a.createElement(L.a,{onClick:function(){return n(!1)},color:"primary",disabled:g},"Cancel"),c.a.createElement(L.a,{type:"submit",color:"primary",disabled:g},g?c.a.createElement(U.a,{size:10}):s?"Edit":"Add")))))},st=a(226);function ut(){var e=Object($.a)(["\n  mutation LocaleFormModal_upsertLocale(\n    $id: ID\n    $name: String!\n    $nativeName: String!\n    $code: String!\n    $projectId: ID!\n  ) {\n    upsertLocale(\n      data: {\n        name: $name\n        nativeName: $nativeName\n        code: $code\n        projectId: $projectId\n      }\n      where: { id: $id }\n    ) {\n      id\n      name\n      nativeName\n      code\n    }\n  }\n"]);return ut=function(){return e},e}function dt(){var e=Object($.a)(["\n  query LocaleFormModal_locale($id: ID!) {\n    locale(where: { id: $id }) {\n      id\n      name\n      code\n      nativeName\n    }\n  }\n"]);return dt=function(){return e},e}var mt=q()(dt()),pt=q()(ut()),ht=a(414),gt=a(121),bt=gt.a.getAllNames().map((function(e){return{code:gt.a.getCode(e),name:e,nativeName:gt.a.getNativeName(gt.a.getCode(e))}})),ft=Le.a({code:Le.b().min(1,"Required").required("Required")}),vt=Object(x.a)((function(e){return{root:{width:400},input:{marginBottom:e.spacing(3)}}})),jt=function(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),a=t[0],n=t[1],o=Object(E.g)(),i=Object(E.i)().params,s=i.localeId,u=i.projectId,d=vt(),m=Object(F.b)(pt,{refetchQueries:["Screen_project"]}),p=Object(j.a)(m,2),h=p[0],g=p[1].loading,b=Object(De.a)({initialValues:{name:"",nativeName:"",code:""},validationSchema:ft,onSubmit:function(){var e=Object(S.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(Object(l.a)(Object(l.a)({},t),{},{id:s,projectId:u})),e.next=3,h({variables:Object(l.a)(Object(l.a)({},t),{},{id:s,projectId:u})});case 3:o.push("/project/".concat(u,"/screens"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),f=Object(F.c)(mt,{variables:{id:s},skip:!s,onCompleted:function(e){e&&b.setValues(e.locale)}}).loading;return console.log(b.values),c.a.createElement(Ie.a,{classes:{paper:d.root},open:a,onClose:function(){return n(!1)},onExited:function(){return o.push("/project/".concat(u,"/screens"))},disableBackdropClick:g,disableEscapeKeyDown:g},c.a.createElement(Se.a,null,"Locale"),f?c.a.createElement(U.a,null):c.a.createElement("form",{onSubmit:b.handleSubmit},c.a.createElement(c.a.Fragment,null,c.a.createElement($e.a,null,c.a.createElement(ht.a,{options:[b.initialValues].concat(Object(st.a)(bt)),getOptionLabel:function(e){return e.name},getOptionSelected:function(e){return e.code===b.values.code},onChange:function(e,t){return b.setValues(t||b.initialValues)},value:b.values,autoSelect:!0,renderInput:function(e){return c.a.createElement(D.a,Object.assign({},e,{autoFocus:!0,placeholder:"Ex: English",variant:"outlined",helperText:b.touched.code?b.errors.code:"",error:b.touched.code&&Boolean(b.errors.code)}))}})),c.a.createElement(Te.a,null,c.a.createElement(L.a,{onClick:function(){return n(!1)},color:"primary",disabled:g},"Cancel"),c.a.createElement(L.a,{type:"submit",color:"primary",disabled:g},g?c.a.createElement(U.a,{size:10}):s?"Edit":"Add")))))},Et=a(396),Ot=a(411),kt=Object(x.a)((function(e){return{root:{width:200},item:{cursor:"pointer"}}})),yt=function(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),a=t[0],n=t[1],o=Object(E.g)(),i=Object(E.i)().params,l=i.screenId,s=i.projectId,u=kt();return c.a.createElement(Ie.a,{classes:{paper:u.root},open:a,onClose:function(){return n(!1)},onExited:function(){return o.push("/project/".concat(s,"/screens"))}},c.a.createElement(Et.a,null,c.a.createElement(Ot.a,{className:u.item,onClick:function(){return o.push("/project/".concat(s,"/screen/").concat(l,"/translate"))}},"Translate"),c.a.createElement(Ot.a,{className:u.item,onClick:function(){return o.push("/project/".concat(s,"/screens/screen/").concat(l))}},"Edit")))},wt=Object(x.a)((function(e){return{root:{padding:e.spacing(3),backgroundColor:e.palette.background.default,height:"calc(100% - 115px)"},title:{marginBottom:e.spacing(3)},projectNameContainer:{marginBottom:e.spacing(3),width:"100%",display:"flex",flexDirection:"row",justifyContent:"center"},screensContainer:{display:"flex",flexFlow:"row wrap",marginBottom:e.spacing(3)},screenChip:{minWidth:225,maxWidth:225,width:225,margin:e.spacing(2),cursor:"pointer"},addChip:{cursor:"pointer",borderStyle:"dashed",color:"rgba(0, 0, 0, 0.6)",margin:e.spacing(2)},screenLoading:{borderRadius:16,minWidth:225,maxWidth:225,width:225,marginRight:e.spacing(3)}}})),Ct=function(e){var t=e.onClick,a=wt();return c.a.createElement(Ze.a,{className:a.addChip,onClick:t,variant:"outlined",avatar:c.a.createElement(Ce.a,{style:{color:"rgba(0, 0, 0, 0.23)"}}),label:"Add"})},xt=function(e){var t=e.name,a=e.loading,n=e.onClick,r=wt();return a?c.a.createElement(Me.a,{className:r.screenLoading,variant:"rect",width:150,height:32}):c.a.createElement(Ze.a,{onClick:n,className:r.screenChip,label:t})},Nt=function(){var e,t,a,n,o=wt(),i=Object(r.useState)(""),l=Object(j.a)(i,2),s=l[0],u=l[1],d=Object(E.i)().params.id,m=Object(E.g)(),p=Object(F.c)(tt,{variables:{id:d}}),h=p.data,g=p.loading;return c.a.createElement(c.a.Fragment,null,c.a.createElement(je,{search:s,onSearchChange:function(e){return u(e.target.value)}}),c.a.createElement("div",{className:o.root},c.a.createElement(ze,{paths:[{name:"Projects",path:"/home"},{name:"Screens"}]}),c.a.createElement("div",{className:o.projectNameContainer},g?c.a.createElement(Me.a,{animation:"wave",variant:"rect",width:300,height:55}):c.a.createElement(T.a,{variant:"h3"},null===h||void 0===h?void 0:h.project.name)),c.a.createElement("div",{className:o.screensContainer},g?c.a.createElement(xt,{loading:!0}):null===h||void 0===h||null===(e=h.project)||void 0===e||null===(t=e.screens)||void 0===t?void 0:t.filter((function(e){return e.name.toLowerCase().includes(s.toLowerCase())})).map((function(e){return c.a.createElement(xt,{key:null===e||void 0===e?void 0:e.id,name:null===e||void 0===e?void 0:e.name,onClick:function(){return m.push("/project/".concat(d,"/screens/screen/").concat(e.id,"/options"))}})})),c.a.createElement(Ct,{onClick:function(){return m.push("/project/".concat(d,"/screens/screen"))}})),c.a.createElement(T.a,{variant:"h4",className:o.title},"Supported Locales"),c.a.createElement("div",{className:o.screensContainer},g?c.a.createElement(xt,{loading:!0}):null===h||void 0===h||null===(a=h.project)||void 0===a||null===(n=a.locales)||void 0===n?void 0:n.filter((function(e){return e.name.toLowerCase().includes(s.toLowerCase())})).map((function(e){return c.a.createElement(xt,{key:null===e||void 0===e?void 0:e.id,name:null===e||void 0===e?void 0:e.name,onClick:function(){return m.push("/project/".concat(d,"/screens/locale/").concat(e.id))}})})),c.a.createElement(Ct,{onClick:function(){return m.push("/project/".concat(d,"/screens/locale"))}}))),c.a.createElement(E.b,{exact:!0,path:"/project/:projectId/screens/screen",component:lt}),c.a.createElement(E.b,{exact:!0,path:"/project/:projectId/screens/screen/:screenId",component:lt}),c.a.createElement(E.b,{exact:!0,path:"/project/:projectId/screens/screen/:screenId/options",component:yt}),c.a.createElement(E.b,{exact:!0,path:"/project/:projectId/screens/locale",component:jt}),c.a.createElement(E.b,{exact:!0,path:"/project/:projectId/screens/locale/:localeId",component:jt}))};function It(){var e=Object($.a)(["\n  mutation TranslatePage_deleteKey($id: ID!) {\n    deleteKey(where: { id: $id })\n  }\n"]);return It=function(){return e},e}function St(){var e=Object($.a)(["\n  query TranslatePage_screen($id: ID!) {\n    screen(where: { id: $id }) {\n      id\n      name\n      description\n      keys {\n        id\n        name\n        plural\n        translations {\n          id\n          value\n          locale {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return St=function(){return e},e}function $t(){var e=Object($.a)(["\n  query TranslatePage_project($id: ID!) {\n    project(where: { id: $id }) {\n      locales {\n        id\n        name\n        nativeName\n        code\n      }\n    }\n  }\n"]);return $t=function(){return e},e}var Tt=q()($t()),Dt=q()(St()),Lt=q()(It()),Pt=a(222),Ft=a.n(Pt),Bt=a(223),qt=a.n(Bt),_t=a(224),Rt=a.n(_t),At=a(412),Mt=a(416);function Kt(){var e=Object($.a)(["\n  mutation KeyFormModal_upsertKey(\n    $id: ID\n    $name: String!\n    $plural: Boolean!\n    $screenId: ID!\n  ) {\n    upsertKey(\n      data: { name: $name, plural: $plural, screenId: $screenId }\n      where: { id: $id }\n    ) {\n      id\n      name\n      plural\n    }\n  }\n"]);return Kt=function(){return e},e}function Wt(){var e=Object($.a)(["\n  query KeyFormModal_key($id: ID!) {\n    key(where: { id: $id }) {\n      id\n      name\n      plural\n    }\n  }\n"]);return Wt=function(){return e},e}var Vt=q()(Wt()),Ut=q()(Kt()),zt=Le.a({name:Le.b().min(1,"Must be 1 characters or more").required("Required")}),Qt=Object(x.a)((function(e){return{root:{width:400},input:{marginBottom:e.spacing(3)}}})),Jt={name:"",plural:!1},Ht=function(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)(!1),i=Object(j.a)(o,2),s=i[0],u=i[1],d=Object(E.g)(),m=Object(E.i)().params,p=m.screenId,h=m.projectId,g=m.keyId,b=Qt(),f=Object(F.b)(Ut,{refetchQueries:["TranslatePage_screen"]}),v=Object(j.a)(f,2),O=v[0],k=v[1].loading,y=Object(De.a)({initialValues:Jt,validationSchema:zt,onSubmit:function(){var e=Object(S.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=6;break}return e.next=3,O({variables:Object(l.a)(Object(l.a)({},t),{},{id:g,screenId:p})});case 3:d.push("/project/".concat(h,"/screen/").concat(p,"/translate")),e.next=9;break;case 6:return e.next=8,O({variables:Object(l.a)(Object(l.a)({},t),{},{id:g,screenId:p})});case 8:y.resetForm();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),w=Object(F.c)(Vt,{variables:{id:g},skip:!g,onCompleted:function(e){e&&y.setValues(e.key)}}).loading;return c.a.createElement(Ie.a,{classes:{paper:b.root},open:a,onClose:function(){return n(!1)},onExited:function(){return d.push("/project/".concat(h,"/screen/").concat(p,"/translate"))},disableBackdropClick:k,disableEscapeKeyDown:k},c.a.createElement(Se.a,null,"Key"),w?c.a.createElement(U.a,null):c.a.createElement("form",{onSubmit:y.handleSubmit},c.a.createElement(c.a.Fragment,null,c.a.createElement($e.a,null,c.a.createElement(D.a,{id:"name",className:b.input,label:"Name",placeholder:"name",variant:"outlined",fullWidth:!0,onChange:y.handleChange,value:y.values.name,helperText:y.touched.name?y.errors.name:"No spaces and no periods please.",error:y.touched.name&&Boolean(y.errors.name)}),c.a.createElement(At.a,{control:c.a.createElement(Mt.a,{id:"plural",value:y.values.plural,onChange:y.handleChange,checked:y.values.plural}),label:"Plural"})),c.a.createElement(Te.a,null,g?null:c.a.createElement(At.a,{control:c.a.createElement(Mt.a,{value:s,onChange:function(){return u(!s)},checked:s}),label:"Create another"}),c.a.createElement(L.a,{variant:"contained",type:"submit",color:"primary",disabled:k},k?c.a.createElement(U.a,{size:10}):g?"Edit":"Add"),c.a.createElement(L.a,{onClick:function(){return n(!1)},color:"primary",disabled:k},"Cancel")))))};function Gt(){var e=Object($.a)(["\n  mutation TranslationFormModal_upsertTranslation(\n    $id: ID\n    $value: String!\n    $keyId: ID!\n    $localeId: ID!\n  ) {\n    upsertTranslation(\n      data: { value: $value, keyId: $keyId, localeId: $localeId }\n      where: { id: $id }\n    ) {\n      id\n      value\n    }\n  }\n"]);return Gt=function(){return e},e}function Xt(){var e=Object($.a)(["\n  query TranslationFormModal_translation($id: ID!) {\n    translation(where: { id: $id }) {\n      id\n      value\n    }\n  }\n"]);return Xt=function(){return e},e}var Yt=q()(Xt()),Zt=q()(Gt()),ea=Le.a({value:Le.b().min(1,"Must be 1 characters or more").required("Required")}),ta=Object(x.a)((function(e){return{root:{width:400},input:{marginBottom:e.spacing(3)}}})),aa=function(){var e=Object(r.useState)(!0),t=Object(j.a)(e,2),a=t[0],n=t[1],o=Object(E.g)(),i=Object(E.i)().params,s=i.screenId,u=i.projectId,d=i.keyId,m=i.translationId,p=i.localeId,h=ta(),g=Object(F.b)(Zt,{refetchQueries:["TranslatePage_screen"]}),b=Object(j.a)(g,2),f=b[0],v=b[1].loading,O=Object(De.a)({initialValues:{value:""},validationSchema:ea,onSubmit:function(){var e=Object(S.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({variables:Object(l.a)(Object(l.a)({},t),{},{id:m,keyId:d,localeId:p})});case 2:o.push("/project/".concat(u,"/screen/").concat(s,"/translate"));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),k=Object(F.c)(Yt,{variables:{id:m},skip:!m,onCompleted:function(e){e&&O.setValues(e.translation)}}).loading;return c.a.createElement(Ie.a,{classes:{paper:h.root},open:a,onClose:function(){return n(!1)},onExited:function(){return o.push("/project/".concat(u,"/screen/").concat(s,"/translate"))},disableBackdropClick:v,disableEscapeKeyDown:v},c.a.createElement(Se.a,null,"Translation"),k?c.a.createElement(U.a,null):c.a.createElement("form",{onSubmit:O.handleSubmit},c.a.createElement(c.a.Fragment,null,c.a.createElement($e.a,null,c.a.createElement(D.a,{id:"value",className:h.input,autoFocus:!0,rows:4,multiline:!0,label:"Value",variant:"outlined",fullWidth:!0,onChange:O.handleChange,value:O.values.value,helperText:O.touched.value?O.errors.value:"",error:O.touched.value&&Boolean(O.errors.value)})),c.a.createElement(Te.a,null,c.a.createElement(L.a,{onClick:function(){return n(!1)},color:"primary",disabled:v},"Cancel"),c.a.createElement(L.a,{type:"submit",color:"primary",disabled:v},v?c.a.createElement(U.a,{size:10}):m?"Edit":"Add")))))},na=Object(x.a)((function(e){return{root:{padding:e.spacing(3),backgroundColor:e.palette.background.default,height:"calc(100% - 115px)"},languages:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},languageField:{width:300},switchButton:{margin:e.spacing(3)},actionsContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-end",marginBottom:e.spacing(3)},screenTitle:{width:"100%",textAlign:"center"},screenDescription:{margin:e.spacing(3)},keyItem:{display:"flex",flexDirection:"column",border:"1px solid #eee"},keyTitleContainer:{display:"flex",flexDirection:"row",alignItems:"center",backgroundColor:"#eee",padding:12},keyTitle:{color:"cornflowerblue",cursor:"pointer","&:hover":{textDecoration:"underline"}},translationsContainer:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",height:200},translationContainer:{width:"50%",height:"100%",cursor:"pointer"},translation:{padding:e.spacing(1),cursor:"pointer"},leftContainer:{height:"100%"},rightContainer:{backgroundColor:"white",height:"100%"},spacer:{flex:2},noTranslation:{color:"rgba(0,0,0,0.4)",padding:e.spacing(1)}}})),ra={id:"",code:"",nativeName:"",name:""},ca=function(e){var t=e.k,a=e.leftTranslation,n=e.rightTranslation,r=e.rightLanguage,o=e.leftLanguage,i=e.plural,l=e.onKeyClick,s=e.onLeftLanguageClick,u=e.onRightLanguageClick,d=e.onDeleteKey,m=na();return c.a.createElement("div",{className:m.keyItem},c.a.createElement("div",{className:m.keyTitleContainer},c.a.createElement(T.a,{onClick:l,className:m.keyTitle},t),c.a.createElement("div",{className:m.spacer}),i?c.a.createElement(Ze.a,{label:"PLURAL",color:"secondary"}):null,c.a.createElement(pe.a,{onClick:d},c.a.createElement(Rt.a,null))),c.a.createElement("div",{className:m.translationsContainer},c.a.createElement("div",{className:Object(P.a)(m.translationContainer,m.leftContainer),onClick:s},a?c.a.createElement(T.a,{className:m.translation},a.value):c.a.createElement(T.a,{className:m.noTranslation},"Click to translate to ",o.name)),c.a.createElement("div",{className:Object(P.a)(m.translationContainer,m.rightContainer),onClick:u},n?c.a.createElement(T.a,{className:m.translation},n.value):c.a.createElement(T.a,{className:m.noTranslation},"Click to translate to ",r.name))))},oa=function(){var e,t,a,n,o=na(),i=Object(r.useState)(""),l=Object(j.a)(i,2),s=l[0],u=l[1],d=Object(r.useState)(ra),m=Object(j.a)(d,2),p=m[0],h=m[1],g=Object(r.useState)(ra),b=Object(j.a)(g,2),f=b[0],v=b[1],O=Object(E.i)().params,k=O.projectId,y=O.screenId,w=Object(E.g)(),C=Object(F.c)(Tt,{variables:{id:k}}),x=C.data,N=C.loading,$=Object(F.c)(Dt,{variables:{id:y},skip:!y}).data,P=Object(F.b)(Lt,{refetchQueries:["TranslatePage_screen"]}),B=Object(j.a)(P,1)[0];return c.a.createElement(c.a.Fragment,null,c.a.createElement(je,{search:s,onSearchChange:function(e){return u(e.target.value)}}),c.a.createElement("div",{className:o.root},c.a.createElement(ze,{paths:[{name:"Projects",path:"/home"},{name:"Screens",path:"/project/".concat(k,"/screens")},{name:"Translate"}]}),c.a.createElement(T.a,{className:o.screenTitle,variant:"h3"},null===$||void 0===$||null===(e=$.screen)||void 0===e?void 0:e.name),c.a.createElement(T.a,{className:o.screenDescription},null===$||void 0===$||null===(t=$.screen)||void 0===t?void 0:t.description),N?null:c.a.createElement("div",{className:o.languages},c.a.createElement(ht.a,{className:o.languageField,disableClearable:!0,options:null!==(a=null===x||void 0===x?void 0:x.project.locales)&&void 0!==a?a:[],getOptionLabel:function(e){return e.name},getOptionSelected:function(e){return!!p&&e.code===p.code},onChange:function(e,t){return h(null!==t&&void 0!==t?t:ra)},value:p,autoSelect:!0,renderInput:function(e){return c.a.createElement(D.a,Object.assign({},e,{autoFocus:!0,placeholder:"Ex: English",variant:"outlined"}))}}),c.a.createElement(pe.a,{className:o.switchButton,onClick:function(){h(f),v(p)}},c.a.createElement(qt.a,null)),c.a.createElement(ht.a,{className:o.languageField,disableClearable:!0,options:null!==(n=null===x||void 0===x?void 0:x.project.locales)&&void 0!==n?n:[],getOptionLabel:function(e){return e.name},getOptionSelected:function(e){return e.code===f.code},onChange:function(e,t){var a;return v(null!==(a=Ft()(t,"__typename"))&&void 0!==a?a:ra)},value:f,renderInput:function(e){return c.a.createElement(D.a,Object.assign({},e,{autoFocus:!0,placeholder:"Ex: English",variant:"outlined"}))}})),p.code.length>0&&f.code.length>0?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:o.actionsContainer},c.a.createElement(L.a,{color:"primary",onClick:function(){return w.push("/project/".concat(k,"/screen/").concat(y,"/translate/key"))},startIcon:c.a.createElement(Ce.a,null),variant:"contained"},"Add")),null===$||void 0===$?void 0:$.screen.keys.filter((function(e){return e.name.toLowerCase().includes(s.toLowerCase())})).reverse().map((function(e){var t=e.translations.filter((function(e){return e.locale.id===p.id})),a=t.length>0?t[0]:null,n=e.translations.filter((function(e){return e.locale.id===f.id})),r=n.length>0?n[0]:null;return c.a.createElement(ca,{key:e.id,k:e.name,plural:e.plural,leftTranslation:a,rightTranslation:r,onKeyClick:function(){return w.push("/project/".concat(k,"/screen/").concat(y,"/translate/key/").concat(e.id))},leftLanguage:p,rightLanguage:f,onLeftLanguageClick:function(){return a?w.push("/project/".concat(k,"/screen/").concat(y,"/translate/key/").concat(e.id,"/locale/").concat(p.id,"/translation/").concat(a.id)):w.push("/project/".concat(k,"/screen/").concat(y,"/translate/key/").concat(e.id,"/locale/").concat(p.id,"/translation"))},onRightLanguageClick:function(){return r?w.push("/project/".concat(k,"/screen/").concat(y,"/translate/key/").concat(e.id,"/locale/").concat(f.id,"/translation/").concat(r.id)):w.push("/project/".concat(k,"/screen/").concat(y,"/translate/key/").concat(e.id,"/locale/").concat(f.id,"/translation"))},onDeleteKey:Object(S.a)(I.a.mark((function t(){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B({variables:{id:e.id}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))})}))):null),c.a.createElement(E.b,{exact:!0,path:"/project/:projectId/screen/:screenId/translate/key",component:Ht}),c.a.createElement(E.b,{exact:!0,path:"/project/:projectId/screen/:screenId/translate/key/:keyId",component:Ht}),c.a.createElement(E.b,{exact:!0,path:"/project/:projectId/screen/:screenId/translate/key/:keyId/locale/:localeId/translation",component:aa}),c.a.createElement(E.b,{exact:!0,path:"/project/:projectId/screen/:screenId/translate/key/:keyId/locale/:localeId/translation/:translationId",component:aa}))},ia=Object(x.a)({root:{width:"100%",height:"100%",background:"linear-gradient(to right, #3a6073, #3a7bd5)",float:"right",display:"flex",alignItems:"center",justifyContent:"center"},image:{filter:"brightness(100)",width:250},progress:{color:"white"}}),la=function(){var e=ia();return c.a.createElement("div",{className:e.root},c.a.createElement("img",{className:e.image,src:"/softgarden_white.png",alt:""}),c.a.createElement(U.a,{className:e.progress,size:22}))};function sa(){return c.a.createElement(O.a,null,c.a.createElement(E.d,null,c.a.createElement(E.b,{path:"/",component:oe})))}function ua(){return c.a.createElement(O.a,null,c.a.createElement(E.d,null,c.a.createElement(E.b,{exact:!0,path:"/",component:(e="/home",function(){return c.a.createElement(E.a,{to:e})})}),c.a.createElement(E.b,{path:"/home",component:Ge}),c.a.createElement(E.b,{path:"/settings",component:Ye}),c.a.createElement(E.b,{path:"/project/:id/screens",component:Nt}),c.a.createElement(E.b,{path:"/project/:projectId/screen/:screenId/translate",component:oa}),c.a.createElement(E.a,{to:"/home"})));var e}var da=function(){var e=Object(r.useContext)(w).user,t=Object(r.useState)(!1),a=Object(j.a)(t,2),n=a[0],o=a[1],i=Object(r.useState)(!0),l=Object(j.a)(i,2),s=l[0],u=l[1];return Object(r.useEffect)((function(){(null===e||void 0===e?void 0:e.accessToken)?o(!0):o(!1),u(!1)}),[e]),s?c.a.createElement(la,null):n?c.a.createElement(ua,null):c.a.createElement(sa,null)};a(357),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(358).config(),console.log("secret"),console.log("http://localhost:4000/graphql"),console.log("production"),i.a.render(c.a.createElement(n.a,{client:v},c.a.createElement(C,null,c.a.createElement(da,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[238,1,2]]]);
//# sourceMappingURL=main.8a2ed49e.chunk.js.map